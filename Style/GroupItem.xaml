<ResourceDictionary
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:i="clr-namespace:Ion.Controls"
    xmlns:Data="clr-namespace:Ion.Data">
    <DataTemplate x:Key="{x:Static i:XItemsControl.GroupHeaderTemplate}">
        <Grid i:XGrid.AutoColumns="True" i:XGrid.Columns="Auto,Auto,*"
            Margin="5,0">
            <TextBlock Text="{i:Bind Name, Mode=OneWay}" 
                FontFamily="{i:Bind GroupFontFamily, AppSource=Data}"
                Foreground="{i:Theme AccentLight}"
                i:XTextBlock.FontScale="{i:Bind GroupFontScale, AppSource=Data}"
                i:XTextBlock.FontScaleOrigin="{i:Bind GroupFontSize, AppSource=Data}"/>
            <TextBlock Text="{i:Bind ItemCount, Mode=OneWay, StringFormat= ({0})}" 
                FontFamily="{i:Bind GroupFontFamily, AppSource=Data}"
                Foreground="{i:Theme Text}"
                i:XTextBlock.FontScale="{i:Bind GroupFontScale, AppSource=Data}"
                i:XTextBlock.FontScaleOrigin="{i:Bind GroupFontSize, AppSource=Data}"
                Margin="1,0,0,0"/>
            <i:LineElement Orientation="Horizontal"
                Margin="5,0,0,0"/>
        </Grid>
    </DataTemplate>
    
    <Style x:Key="{x:Type GroupItem}" TargetType="GroupItem">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type GroupItem}">
                    <Expander HorizontalAlignment="Stretch"
                        IsExpanded="True" 
                        i:XExpander.HeaderPadding="1,0,0,0">
                        <Expander.Header>
                            <ContentPresenter Content="{i:Bind}" ContentTemplate="{DynamicResource {x:Static i:XItemsControl.GroupHeaderTemplate}}"/>
                        </Expander.Header>
                        <ItemsPresenter/>
                    </Expander>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
</ResourceDictionary>